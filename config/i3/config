# i3 config file (v4)
# Please see http://i3wm.org/docs/userguide.html for a complete reference!

############################################################
# Core

# Use command key as modifier
set $mod Mod4

# Do not follow mouse
focus_follows_mouse no

# Do not hide borders
hide_edge_borders none

# Reload the configuration file
bindsym $mod+Shift+c reload

# Restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart

# Autolock after 10 minutes
exec --no-startup-id xautolock -time 10 -locker vila-lock

# Auto hide cursor
exec --no-startup-id unclutter

# Gnome authentication agent
exec --no-startup-id /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1

# xfce power manager
exec --no-startup-id xfce4-power-manager

############################################################
# Appearance

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
font xft:Liberation Mono 11

# Set wallpaper via feh
exec --no-startup-id feh --bg-scale /home/gavin/.vila/wallpapers/grayscale-footbridge.jpg

# Configure border style
new_window pixel 1
new_float normal

# Theme colors for base16 grayscale-dark
# https://github.com/khamer/base16-i3/blob/master/themes/base16-grayscale-dark.config
set $base00 #101010
set $base01 #252525
set $base02 #464646
set $base03 #525252
set $base04 #ababab
set $base05 #b9b9b9
set $base06 #e3e3e3
set $base07 #f7f7f7
set $base08 #7c7c7c
set $base09 #999999
set $base0A #a0a0a0
set $base0B #8e8e8e
set $base0C #868686
set $base0D #686868
set $base0E #747474
set $base0F #5e5e5e

# Property Name         Border  BG      Text    Indicator Child Border
client.focused          $base05 $base0D $base00 $base0D $base0D
client.focused_inactive $base01 $base01 $base05 $base03 $base01
client.unfocused        $base01 $base00 $base05 $base01 $base01
client.urgent           $base08 $base08 $base00 $base08 $base08
client.placeholder      $base00 $base00 $base05 $base00 $base00
client.background       $base07

############################################################
# Commands

# Start a terminal
bindsym $mod+n exec st -f "Liberation Mono:size=12"

# Start dmenu (a program launcher)
bindsym $mod+d exec --no-startup-id dmenu_run

############################################################
# Navigation

# Focus the parent container
bindsym $mod+a focus parent

# Kill focused window
bindsym $mod+Shift+q kill

# Change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# Move focused window
bindsym $mod+Shift+j move left
bindsym $mod+Shift+k move down
bindsym $mod+Shift+l move up
bindsym $mod+Shift+semicolon move right

# Split in horizontal orientation
bindsym $mod+Shift+backslash split h

# Split in vertical orientation
bindsym $mod+Shift+minus split v

# Enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# Change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

############################################################
# Floating

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# Change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# Toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# Open specific applications in floating mode
for_window [title="alsamixer"] floating enable border pixel 1
for_window [class="Blueman-manager"] floating enable border pixel 1
for_window [class="Calamares"] floating enable border normal
for_window [class="Clipgrab"] floating enable
for_window [title="File Transfer*"] floating enable
for_window [class="Galculator"] floating enable border pixel 1
for_window [class="GParted"] floating enable border normal
for_window [title="i3_help"] floating enable border normal
for_window [class="Lightdm-gtk-greeter-settings"] floating enable
for_window [class="Lxappearance"] floating enable border normal
for_window [class="Manjaro-hello"] floating enable
for_window [class="Manjaro Settings Manager"] floating enable border normal
for_window [title="MuseScore: Play Panel"] floating enable
for_window [class="Nitrogen"] floating enable border normal
for_window [class="Oblogout"] fullscreen enable
for_window [class="octopi"] floating enable
for_window [title="About Pale Moon"] floating enable
for_window [class="Pamac-manager"] floating enable
for_window [class="Pavucontrol"] floating enable
for_window [class="qt5ct"] floating enable border normal
for_window [class="Qtconfig-qt4"] floating enable border normal
for_window [class="Simple-scan"] floating enable border normal
for_window [class="(?i)System-config-printer.py"] floating enable border normal
for_window [class="Skype"] floating enable border normal
for_window [class="Thus"] floating enable border normal
for_window [class="Timeset-gui"] floating enable border normal
for_window [class="(?i)virtualbox"] floating enable border normal
for_window [class="Xfburn"] floating enable

############################################################
# Workspaces

# Switch to workspace
bindsym $mod+grave workspace 0
bindsym $mod+1     workspace 1
bindsym $mod+2     workspace 2
bindsym $mod+3     workspace 3
bindsym $mod+4     workspace 4
bindsym $mod+5     workspace 5
bindsym $mod+6     workspace 6
bindsym $mod+7     workspace 7
bindsym $mod+8     workspace 8
bindsym $mod+9     workspace 9

# Move focused container to workspace
bindsym $mod+Shift+grave move container to workspace 0
bindsym $mod+Shift+1     move container to workspace 1
bindsym $mod+Shift+2     move container to workspace 2
bindsym $mod+Shift+3     move container to workspace 3
bindsym $mod+Shift+4     move container to workspace 4
bindsym $mod+Shift+5     move container to workspace 5
bindsym $mod+Shift+6     move container to workspace 6
bindsym $mod+Shift+7     move container to workspace 7
bindsym $mod+Shift+8     move container to workspace 8
bindsym $mod+Shift+9     move container to workspace 9

############################################################
# Resize mode

# Resize window (you can also use the mouse for that)
mode "resize"        {
  # These bindings trigger as soon as you enter the resize mode

  # Press left will shrink the window’s width.
  # Press right will grow the window’s width.
  # Press up will shrink the window’s height.
  # Press down will grow the window’s height.
  bindsym h resize shrink width 10 px or 10 ppt
  bindsym j resize grow height 10 px or 10 ppt
  bindsym k resize shrink height 10 px or 10 ppt
  bindsym l resize grow width 10 px or 10 ppt

  # Press escape to go back to normal
  bindsym Escape mode "default"
}

bindsym $mod+r mode "resize"

############################################################
# System mode

# Customizable system menu
set $mode_system (l)ock, (e)xit, switch_(u)ser, (s)uspend, (h)ibernate, (r)eboot, (Shift+s)hutdown
mode "$mode_system" {
  bindsym l exec --no-startup-id i3exit lock, mode "default"
  bindsym s exec --no-startup-id i3exit suspend, mode "default"
  bindsym u exec --no-startup-id i3exit switch_user, mode "default"
  bindsym e exec --no-startup-id i3exit logout, mode "default"
  bindsym h exec --no-startup-id i3exit hibernate, mode "default"
  bindsym r exec --no-startup-id i3exit reboot, mode "default"
  bindsym Shift+s exec --no-startup-id i3exit shutdown, mode "default"

  # Exit system mode
  bindsym Escape mode "default"
}

bindsym $mod+0 mode "$mode_system"

############################################################
# i3bar

# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
bar {
  i3bar_command i3bar
  status_command i3status
  position bottom

  # Disable wheel up and down
	bindsym button4 nop
	bindsym button5 nop

  colors {
    background $base00
    separator  $base01
    statusline $base04

    # State             Border  BG      Text
    focused_workspace   $base05 $base0D $base00
    active_workspace    $base05 $base03 $base00
    inactive_workspace  $base03 $base01 $base05
    urgent_workspace    $base08 $base08 $base00
    binding_mode        $base00 $base0A $base00
  }
}
