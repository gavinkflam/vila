if [[ -s $HOME/.zgen/init.zsh ]]; then
  # Load generated plugins initialization script
  . "$HOME/.zgen/init.zsh"

  # zgen shim to shed loading time
  function zgen () {
    source $HOME/.zgen/zgen.zsh
    zgen "$@"
  }

  return
fi

source $HOME/.zgen/zgen.zsh

# Running asynchronous tasks in zsh
zgen load mafredri/zsh-async

# Fish-like autosuggestions for zsh
zgen load zsh-users/zsh-autosuggestions

# Additional completion definitions for Zsh
zgen load zsh-users/zsh-completions

# Pretty, minimal and fast ZSH prompt
zgen load sindresorhus/pure pure.zsh

# Generate plugins initialization script
zgen save
