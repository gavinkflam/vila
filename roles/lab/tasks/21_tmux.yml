---
- name: install tmux packages
  pacman: "name={{ item }} state=present"
  with_items:
    - tmux
  become: true

- name: install tpm
  git:
    repo: https://github.com/tmux-plugins/tpm
    dest: "{{ ansible_env.HOME }}/.tmux/plugins/tpm"

- name: install tmux configuration files
  copy: "src={{ item.src }} dest={{ item.dest }}"
  with_items:
    - src: config/tmux/.tmux.conf
      dest: "{{ ansible_env.HOME }}/.tmux.conf"
    - src: themes/base16-grayscale-dark/tmux
      dest: "{{ ansible_env.HOME }}/.tmux_theme"

# scripts
- name: create home bin
  file: "path={{ ansible_env.HOME }}/bin state=directory"

- name: install scripts for tmux
  copy: "src={{ item.src }} dest={{ item.dest }} mode=0755"
  with_items:
    - src: scripts/tmux/osc52
      dest: "{{ ansible_env.HOME }}/bin/osc52"
